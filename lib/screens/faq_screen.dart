import 'package:flutter/material.dart';
import 'package:flutter_gen/gen_l10n/app_localizations.dart'; // Import generated localization

final List<Map<String, dynamic>> _sections1 = [
  {
    'title': 'Nutrition',
    'content': [
      {
        'question': 'What foods are safe during pregnancy?',
        'answer':
            'Focus on a balanced diet with fruits, vegetables, whole grains, lean protein, and dairy. Wash produce and cook meats thoroughly to avoid bacteria.'
      },
      {
        'question': 'Can I have sushi or rare steak?',
        'answer':
            'It\'s best to avoid raw or undercooked fish and meats during pregnancy due to the risk of bacteria and parasites that can harm the fetus.'
      },
      {
        'question': 'Is it safe to diet while pregnant?',
        'answer':
            'Dieting is not recommended during pregnancy. Instead, aim for a healthy, well-balanced diet that provides adequate nutrients for you and your baby.'
      },
      {
        'question': 'What about herbal teas and supplements?',
        'answer':
            'Some can be unsafe. Discuss with your healthcare provider before taking any herbs or supplements during pregnancy.'
      },
      {
        'question': 'Can I eat deli meats?',
        'answer':
            'Deli meats should be avoided unless they are heated to steaming hot to prevent the risk of listeriosis.'
      },
    ],
  },
  {
    'title': 'Wellness',
    'content': [
      {
        'question': 'How much exercise is safe?',
        'answer':
            'Most women can safely engage in moderate exercise. Consult your doctor to tailor an exercise plan to your specific needs.'
      },
      {
        'question': 'What are the signs of prenatal depression?',
        'answer':
            'Symptoms include persistent sadness, anxiety, and loss of interest in activities. If you experience these, seek help from a healthcare professional.'
      },
      {
        'question': 'Can I travel during pregnancy?',
        'answer':
            'Generally, travel is safe, but check with your doctor, especially during the last trimester or if you have pregnancy complications.'
      },
      {
        'question': 'How can I manage morning sickness?',
        'answer':
            'Eat small, frequent meals, avoid triggering smells, and consider ginger or vitamin B6 supplements after consulting your doctor.'
      },
      {
        'question': 'Is it normal to feel so tired?',
        'answer':
            'Fatigue is common due to hormonal changes and the body\'s extra work to support the pregnancy.'
      },
    ],
  },
  {
    'title': 'Appointments',
    'content': [
      {
        'question': 'How often should I see my doctor?',
        'answer':
            'A typical schedule is every 4-6 weeks up to 32 weeks, then more frequently. High-risk pregnancies may require more visits.'
      },
      {
        'question': 'What is a growth scan?',
        'answer':
            'A growth scan is an ultrasound to check the baby\'s size and position, usually performed in the third trimester.'
      },
      {
        'question': 'Can my partner attend appointments?',
        'answer':
            'Partners are usually welcome, but confirm with your healthcare provider due to any potential restrictions, such as during a pandemic.'
      },
      {
        'question': 'What should I ask during my first visit?',
        'answer':
            'Ask about vitamins, medications, dietary recommendations, and any lifestyle changes you should make.'
      },
      {
        'question': 'What screenings will I need?',
        'answer':
            'Screenings may include blood tests, ultrasounds, glucose screening, and genetic testing, among others.'
      },
    ],
  },
  {
    'title': 'Symptoms',
    'content': [
      {
        'question': 'Should I worry about occasional headaches?',
        'answer':
            'Headaches can be common; however, persistent or severe headaches should be discussed with your healthcare provider.'
      },
      {
        'question': 'What if I have cramping?',
        'answer':
            'Some cramping can be normal, but severe or persistent pain should be evaluated immediately.'
      },
      {
        'question': 'Is spotting a sign of miscarriage?',
        'answer':
            'Spotting can occur in healthy pregnancies, but it\'s important to report any bleeding to your doctor.'
      },
      {
        'question': 'Why am I experiencing swelling?',
        'answer':
            'Mild swelling is normal, but sudden or severe swelling could indicate preeclampsia and needs urgent medical attention.'
      },
      {
        'question': 'What can I do for heartburn relief?',
        'answer':
            'Avoid spicy and fatty foods, eat smaller meals, and try sleeping with your head elevated. Discuss safe antacids with your doctor.'
      },
    ],
  },
];

final List<Map<String, dynamic>> _sections2 = [
  {
    'title': 'ಪೋಷಣೆ',
    'content': [
      {
        'question': 'ಗರ್ಭಾವಸ್ಥೆಯಲ್ಲಿ ಯಾವ ಆಹಾರಗಳು ಸುರಕ್ಷಿತವಾಗಿರುತ್ತವೆ?',
        'answer':
            'ಹಣ್ಣುಗಳು, ತರಕಾರಿಗಳು, ಧಾನ್ಯಗಳು, ನೇರ ಪ್ರೋಟೀನ್ ಮತ್ತು ಡೈರಿಗಳೊಂದಿಗೆ ಸಮತೋಲಿತ ಆಹಾರದ ಮೇಲೆ ಕೇಂದ್ರೀಕರಿಸಿ. ಬ್ಯಾಕ್ಟೀರಿಯಾವನ್ನು ತಪ್ಪಿಸಲು ಉತ್ಪನ್ನಗಳನ್ನು ತೊಳೆಯಿರಿ ಮತ್ತು ಮಾಂಸವನ್ನು ಚೆನ್ನಾಗಿ ಬೇಯಿಸಿ.'
      },
      {
        'question': 'ನಾನು ಸುಶಿ ಅಥವಾ ಅಪರೂಪದ ಸ್ಟೀಕ್ ಹೊಂದಬಹುದೇ?',
        'answer':
            'ಭ್ರೂಣಕ್ಕೆ ಹಾನಿ ಮಾಡುವ ಬ್ಯಾಕ್ಟೀರಿಯಾ ಮತ್ತು ಪರಾವಲಂಬಿಗಳ ಅಪಾಯದಿಂದಾಗಿ ಗರ್ಭಾವಸ್ಥೆಯಲ್ಲಿ ಕಚ್ಚಾ ಅಥವಾ ಬೇಯಿಸದ ಮೀನು ಮತ್ತು ಮಾಂಸವನ್ನು ತಪ್ಪಿಸುವುದು ಉತ್ತಮ.'
      },
      {
        'question': 'ಗರ್ಭಾವಸ್ಥೆಯಲ್ಲಿ ಆಹಾರಕ್ರಮವು ಸುರಕ್ಷಿತವೇ?',
        'answer':
            'ಗರ್ಭಾವಸ್ಥೆಯಲ್ಲಿ ಆಹಾರವನ್ನು ಶಿಫಾರಸು ಮಾಡುವುದಿಲ್ಲ. ಬದಲಾಗಿ, ನಿಮಗೆ ಮತ್ತು ನಿಮ್ಮ ಮಗುವಿಗೆ ಸಾಕಷ್ಟು ಪೋಷಕಾಂಶಗಳನ್ನು ಒದಗಿಸುವ ಆರೋಗ್ಯಕರ, ಸಮತೋಲಿತ ಆಹಾರಕ್ಕಾಗಿ ಗುರಿಯಿರಿಸಿ.'
      },
      {
        'question': 'ಗಿಡಮೂಲಿಕೆ ಚಹಾಗಳು ಮತ್ತು ಪೂರಕಗಳ ಬಗ್ಗೆ ಏನು?',
        'answer':
            'ಕೆಲವು ಅಸುರಕ್ಷಿತವಾಗಿರಬಹುದು. ಗರ್ಭಾವಸ್ಥೆಯಲ್ಲಿ ಯಾವುದೇ ಗಿಡಮೂಲಿಕೆಗಳು ಅಥವಾ ಪೂರಕಗಳನ್ನು ತೆಗೆದುಕೊಳ್ಳುವ ಮೊದಲು ನಿಮ್ಮ ಆರೋಗ್ಯ ಪೂರೈಕೆದಾರರೊಂದಿಗೆ ಚರ್ಚಿಸಿ.'
      },
      {
        'question': 'ನಾನು ಡೆಲಿ ಮಾಂಸವನ್ನು ತಿನ್ನಬಹುದೇ?',
        'answer':
            'ಲಿಸ್ಟರಿಯೊಸಿಸ್ ಅಪಾಯವನ್ನು ತಡೆಗಟ್ಟಲು ಡೆಲಿ ಮಾಂಸವನ್ನು ಬಿಸಿಯಾಗಿ ಬಿಸಿ ಮಾಡದ ಹೊರತು ಅವುಗಳನ್ನು ತಪ್ಪಿಸಬೇಕು.'
      },
    ],
  },
  {
    'title': 'ಕ್ಷೇಮ',
    'content': [
      {
        'question': 'ಎಷ್ಟು ವ್ಯಾಯಾಮ ಸುರಕ್ಷಿತವಾಗಿದೆ?',
        'answer':
            'ಹೆಚ್ಚಿನ ಮಹಿಳೆಯರು ಸುರಕ್ಷಿತವಾಗಿ ಮಧ್ಯಮ ವ್ಯಾಯಾಮದಲ್ಲಿ ತೊಡಗಬಹುದು. ನಿಮ್ಮ ನಿರ್ದಿಷ್ಟ ಅಗತ್ಯಗಳಿಗೆ ವ್ಯಾಯಾಮ ಯೋಜನೆಯನ್ನು ಹೊಂದಿಸಲು ನಿಮ್ಮ ವೈದ್ಯರನ್ನು ಸಂಪರ್ಕಿಸಿ.'
      },
      {
        'question': 'ಪ್ರಸವಪೂರ್ವ ಖಿನ್ನತೆಯ ಚಿಹ್ನೆಗಳು ಯಾವುವು?',
        'answer':
            'ರೋಗಲಕ್ಷಣಗಳು ನಿರಂತರ ದುಃಖ, ಆತಂಕ ಮತ್ತು ಚಟುವಟಿಕೆಗಳಲ್ಲಿ ಆಸಕ್ತಿಯ ನಷ್ಟವನ್ನು ಒಳಗೊಂಡಿರುತ್ತದೆ. ನೀವು ಇವುಗಳನ್ನು ಅನುಭವಿಸಿದರೆ, ಆರೋಗ್ಯ ವೃತ್ತಿಪರರಿಂದ ಸಹಾಯ ಪಡೆಯಿರಿ.'
      },
      {
        'question': 'ಗರ್ಭಾವಸ್ಥೆಯಲ್ಲಿ ನಾನು ಪ್ರಯಾಣಿಸಬಹುದೇ?',
        'answer':
            'ಸಾಮಾನ್ಯವಾಗಿ, ಪ್ರಯಾಣ ಸುರಕ್ಷಿತವಾಗಿದೆ, ಆದರೆ ನಿಮ್ಮ ವೈದ್ಯರೊಂದಿಗೆ ಪರೀಕ್ಷಿಸಿ, ವಿಶೇಷವಾಗಿ ಕೊನೆಯ ತ್ರೈಮಾಸಿಕದಲ್ಲಿ ಅಥವಾ ನೀವು ಗರ್ಭಾವಸ್ಥೆಯ ತೊಡಕುಗಳನ್ನು ಹೊಂದಿದ್ದರೆ.'
      },
      {
        'question': 'ಬೆಳಗಿನ ಬೇನೆಯನ್ನು ನಾನು ಹೇಗೆ ನಿರ್ವಹಿಸಬಹುದು?',
        'answer':
            'ಸಣ್ಣ, ಆಗಾಗ್ಗೆ ಊಟವನ್ನು ಸೇವಿಸಿ, ವಾಸನೆಯನ್ನು ಪ್ರಚೋದಿಸುವುದನ್ನು ತಪ್ಪಿಸಿ ಮತ್ತು ನಿಮ್ಮ ವೈದ್ಯರನ್ನು ಸಂಪರ್ಕಿಸಿದ ನಂತರ ಶುಂಠಿ ಅಥವಾ ವಿಟಮಿನ್ ಬಿ 6 ಪೂರಕಗಳನ್ನು ಪರಿಗಣಿಸಿ.'
      },
      {
        'question': 'ತುಂಬಾ ಸುಸ್ತಾಗುವುದು ಸಹಜವೇ?',
        'answer':
            'ಹಾರ್ಮೋನುಗಳ ಬದಲಾವಣೆಗಳು ಮತ್ತು ಗರ್ಭಧಾರಣೆಯನ್ನು ಬೆಂಬಲಿಸಲು ದೇಹದ ಹೆಚ್ಚುವರಿ ಕೆಲಸದಿಂದಾಗಿ ಆಯಾಸವು ಸಾಮಾನ್ಯವಾಗಿದೆ.'
      },
    ],
  },
  {
    'title': 'ನೇಮಕಾತಿಗಳು',
    'content': [
      {
        'question': 'ನನ್ನ ವೈದ್ಯರನ್ನು ನಾನು ಎಷ್ಟು ಬಾರಿ ನೋಡಬೇಕು?',
        'answer':
            'ಒಂದು ವಿಶಿಷ್ಟವಾದ ವೇಳಾಪಟ್ಟಿ ಪ್ರತಿ 4-6 ವಾರಗಳವರೆಗೆ 32 ವಾರಗಳವರೆಗೆ, ನಂತರ ಹೆಚ್ಚಾಗಿ. ಹೆಚ್ಚಿನ ಅಪಾಯದ ಗರ್ಭಧಾರಣೆಗೆ ಹೆಚ್ಚಿನ ಭೇಟಿಗಳು ಬೇಕಾಗಬಹುದು.'
      },
      {
        'question': 'ಬೆಳವಣಿಗೆಯ ಸ್ಕ್ಯಾನ್ ಎಂದರೇನು?',
        'answer':
            'ಬೆಳವಣಿಗೆಯ ಸ್ಕ್ಯಾನ್ ಮಗುವಿನ ಗಾತ್ರ ಮತ್ತು ಸ್ಥಾನವನ್ನು ಪರೀಕ್ಷಿಸಲು ಅಲ್ಟ್ರಾಸೌಂಡ್ ಆಗಿದೆ, ಇದನ್ನು ಸಾಮಾನ್ಯವಾಗಿ ಮೂರನೇ ತ್ರೈಮಾಸಿಕದಲ್ಲಿ ನಡೆಸಲಾಗುತ್ತದೆ.'
      },
      {
        'question': 'ನನ್ನ ಸಂಗಾತಿ ನೇಮಕಾತಿಗಳಿಗೆ ಹಾಜರಾಗಬಹುದೇ?',
        'answer':
            'ಪಾಲುದಾರರನ್ನು ಸಾಮಾನ್ಯವಾಗಿ ಸ್ವಾಗತಿಸಲಾಗುತ್ತದೆ, ಆದರೆ ಸಾಂಕ್ರಾಮಿಕ ಸಮಯದಲ್ಲಿ ಯಾವುದೇ ಸಂಭಾವ್ಯ ನಿರ್ಬಂಧಗಳ ಕಾರಣದಿಂದಾಗಿ ನಿಮ್ಮ ಆರೋಗ್ಯ ಪೂರೈಕೆದಾರರೊಂದಿಗೆ ದೃಢೀಕರಿಸಿ.'
      },
      {
        'question': 'ನನ್ನ ಮೊದಲ ಭೇಟಿಯ ಸಮಯದಲ್ಲಿ ನಾನು ಏನು ಕೇಳಬೇಕು?',
        'answer':
            'ಜೀವಸತ್ವಗಳು, ಔಷಧಿಗಳು, ಆಹಾರದ ಶಿಫಾರಸುಗಳು ಮತ್ತು ನೀವು ಮಾಡಬೇಕಾದ ಯಾವುದೇ ಜೀವನಶೈಲಿ ಬದಲಾವಣೆಗಳ ಬಗ್ಗೆ ಕೇಳಿ.'
      },
      {
        'question': 'ನನಗೆ ಯಾವ ಪ್ರದರ್ಶನಗಳು ಬೇಕಾಗುತ್ತವೆ?',
        'answer':
            'ಸ್ಕ್ರೀನಿಂಗ್‌ಗಳು ರಕ್ತ ಪರೀಕ್ಷೆಗಳು, ಅಲ್ಟ್ರಾಸೌಂಡ್‌ಗಳು, ಗ್ಲೂಕೋಸ್ ಸ್ಕ್ರೀನಿಂಗ್ ಮತ್ತು ಜೆನೆಟಿಕ್ ಪರೀಕ್ಷೆಯನ್ನು ಒಳಗೊಂಡಿರಬಹುದು.'
      },
    ],
  },
  {
    'title': 'ರೋಗಲಕ್ಷಣಗಳು',
    'content': [
      {
        'question': 'ಸಾಂದರ್ಭಿಕ ತಲೆನೋವಿನ ಬಗ್ಗೆ ನಾನು ಚಿಂತಿಸಬೇಕೇ?',
        'answer':
            'ತಲೆನೋವು ಸಾಮಾನ್ಯವಾಗಬಹುದು; ಆದಾಗ್ಯೂ, ನಿರಂತರ ಅಥವಾ ತೀವ್ರ ತಲೆನೋವು ನಿಮ್ಮ ಆರೋಗ್ಯ ರಕ್ಷಣೆ ನೀಡುಗರೊಂದಿಗೆ ಚರ್ಚಿಸಬೇಕು.'
      },
      {
        'question': 'ನನಗೆ ಸೆಳೆತ ಇದ್ದರೆ ಏನು?',
        'answer':
            'ಕೆಲವು ಸೆಳೆತವು ಸಾಮಾನ್ಯವಾಗಬಹುದು, ಆದರೆ ತೀವ್ರವಾದ ಅಥವಾ ನಿರಂತರವಾದ ನೋವನ್ನು ತಕ್ಷಣವೇ ಮೌಲ್ಯಮಾಪನ ಮಾಡಬೇಕು.'
      },
      {
        'question': 'ಗುರುತಿಸುವುದು ಗರ್ಭಪಾತದ ಸಂಕೇತವೇ?',
        'answer':
            'ಆರೋಗ್ಯಕರ ಗರ್ಭಾವಸ್ಥೆಯಲ್ಲಿ ಸ್ಪಾಟಿಂಗ್ ಸಂಭವಿಸಬಹುದು, ಆದರೆ ನಿಮ್ಮ ವೈದ್ಯರಿಗೆ ಯಾವುದೇ ರಕ್ತಸ್ರಾವವನ್ನು ವರದಿ ಮಾಡುವುದು ಮುಖ್ಯ.'
      },
      {
        'question': 'ನಾನು ಏಕೆ ಊತವನ್ನು ಅನುಭವಿಸುತ್ತಿದ್ದೇನೆ?',
        'answer':
            'ಸೌಮ್ಯವಾದ ಊತವು ಸಾಮಾನ್ಯವಾಗಿದೆ, ಆದರೆ ಹಠಾತ್ ಅಥವಾ ತೀವ್ರವಾದ ಊತವು ಪ್ರಿಕ್ಲಾಂಪ್ಸಿಯಾವನ್ನು ಸೂಚಿಸುತ್ತದೆ ಮತ್ತು ತುರ್ತು ವೈದ್ಯಕೀಯ ಆರೈಕೆಯ ಅಗತ್ಯವಿರುತ್ತದೆ.'
      },
      {
        'question': 'ಎದೆಯುರಿ ಪರಿಹಾರಕ್ಕಾಗಿ ನಾನು ಏನು ಮಾಡಬಹುದು?',
        'answer':
            'ಮಸಾಲೆಯುಕ್ತ ಮತ್ತು ಕೊಬ್ಬಿನ ಆಹಾರವನ್ನು ತಪ್ಪಿಸಿ, ಸಣ್ಣ ಊಟವನ್ನು ತಿನ್ನಿರಿ ಮತ್ತು ನಿಮ್ಮ ತಲೆಯನ್ನು ಮೇಲಕ್ಕೆತ್ತಿ ಮಲಗಲು ಪ್ರಯತ್ನಿಸಿ. ನಿಮ್ಮ ವೈದ್ಯರೊಂದಿಗೆ ಸುರಕ್ಷಿತ ಆಂಟಾಸಿಡ್ಗಳನ್ನು ಚರ್ಚಿಸಿ.'
      },
    ],
  },
];

List<Map<String, dynamic>> _sections = _sections1;

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Pregnancy FAQ',
      theme: ThemeData(
        primarySwatch: Colors.teal,
        visualDensity: VisualDensity.adaptivePlatformDensity,
      ),
      home: FAQScreen(
        setLocale: (Locale) {},
      ),
    );
  }
}

class FAQScreen extends StatefulWidget {
  final Function(Locale) setLocale;
  const FAQScreen({super.key, required this.setLocale});

  @override
  _FAQScreenState createState() => _FAQScreenState();
}

class _FAQScreenState extends State<FAQScreen> {
  var _textFieldController;
  bool isEnglish = true;
  int _selectedIndex = 0;

  void _toggleLanguage() {
    if (isEnglish) {
      widget.setLocale(const Locale('ka'));
      _sections = _sections2;
    } else {
      widget.setLocale(const Locale('en'));
      _sections = _sections1;
    }
    setState(() {
      isEnglish = !isEnglish;
    });
  }

  @override
  Widget build(BuildContext context) {
    final localizations = AppLocalizations.of(context)!;

    return Scaffold(
      appBar: AppBar(
        title: Text(
          localizations.key7,
          style: const TextStyle(
              fontSize: 32, // Choose your desired font size here
              fontWeight: FontWeight.bold),
        ),
        actions: [
          IconButton(
            icon: Icon(isEnglish ? Icons.language : Icons.translate),
            onPressed: _toggleLanguage,
          ),
        ],
        backgroundColor: Colors.teal,
      ),
      body: Column(
        children: [
          Container(
            color: Colors.teal.shade50,
            height: 60,
            child: ListView.builder(
              scrollDirection: Axis.horizontal,
              itemCount: _sections.length,
              itemBuilder: (context, index) => Container(
                alignment: Alignment.center,
                padding: const EdgeInsets.symmetric(horizontal: 20),
                child: ChoiceChip(
                  label: Text(_sections[index]['title']),
                  selected: _selectedIndex == index,
                  onSelected: (bool selected) {
                    setState(() {
                      _selectedIndex = selected ? index : _selectedIndex;
                    });
                  },
                  backgroundColor: Colors.teal.shade100,
                  selectedColor: Colors.teal,
                  labelStyle: TextStyle(
                    color: _selectedIndex == index ? Colors.white : Colors.teal,
                  ),
                ),
              ),
            ),
          ),
          Expanded(
            child: Container(
              color: Colors.white,
              child: ListView.builder(
                itemCount: _sections[_selectedIndex]['content'].length,
                itemBuilder: (context, index) {
                  final question =
                      _sections[_selectedIndex]['content'][index]['question'];
                  final answer =
                      _sections[_selectedIndex]['content'][index]['answer'];
                  return Card(
                    margin: const EdgeInsets.all(8),
                    elevation: 2,
                    child: ExpansionTile(
                      tilePadding: const EdgeInsets.symmetric(
                          horizontal: 16, vertical: 8),
                      title: Text(
                        question,
                        style: const TextStyle(fontWeight: FontWeight.bold),
                      ),
                      children: [
                        Padding(
                          padding: const EdgeInsets.all(16.0),
                          child: Text(
                            answer,
                            textAlign: TextAlign.justify,
                            style: const TextStyle(fontSize: 16),
                          ),
                        ),
                      ],
                    ),
                  );
                },
              ),
            ),
          ),
        ],
      ),
    );
  }
}
